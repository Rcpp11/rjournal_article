% !TeX root = RJwrapper.tex
\title{R and C++11}
\author{by Romain François}

\maketitle

\abstract{}

\section{Introduction}

Extending R with compiled code is a great way to achieve good performance. 
Using C++ to rewrite critical parts has become a popular approach
in R package development. 

With the release of long awaited C++11 standard~\citep{Cpp11}, 
the C++ Standards Commitee has changed the meaning of C++, making it 
a language that is nicer to use and teach. 

This article has two goals, 
showing a few examples of C++11 language features that might be 
relevant to R package development, and introducing
Rcpp11, a complete C++11 redesign of \CRANpkg{Rcpp}. 

\section{Sightseeing Tour of C++11}

This section presents a few features of C++11 which might be 
relevant to R package developpers using C++. For a complete 
reference of C++11, see~\citep{Stroustrup2013}. 

\subsection{auto}

An example with sugar, where the return type is complicated to express
by hand. Also mention \texttt{decltype}

\subsection{Range based for loops}

They look like R loops. 

\subsection{Lambda functions}

Feels like using sapply ...

\subsection{Concurrency and threads}

Machines with multiple cores or even multipe 
processors are becoming increasingly available. Best performance 
is nowadays achieved by writing multithreaded code. 

In C++98 or C++03, this involves using external libraries 
such as \texttt{Boost.Threads}~\citep{KempfBoostThreads} 
or fall back to using platform specific 
implementations of threads, for example POSIX threads. 

In C++11, threads and concurrency programming in general is part of
the language. 

Writing multi threaded code is hard in general. 

R is not thread safe. which makes it harder. This is not a panacea. 

Real example where it makes a difference. for example using the 
data from \texttt{cran-logs-dplyr}. 

\section{Rcpp11}

\subsection{Motivation}

Complete redesign of Rcpp
Header only. Assumes C++11.
Cleaner (got rid of some ghosts). 

\subsection{Future development}

Threaded sugar. 

\section{Beyond C++11}

\bibliography{Francois}

\address{Romain François\\
    R Enthusiasts\\
    1 place de l'égalité. 42400 Saint Chamond\\
    FRANCE }
\email{romain@r-enthusiasts.com}
    

